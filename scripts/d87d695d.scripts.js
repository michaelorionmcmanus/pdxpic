"use strict";angular.module("pdxpicApp",["firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/create",{templateUrl:"views/create.html",controller:"CreateCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"LoginCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("pdxpicApp").controller("MainCtrl",["$scope","angularFire",function(a,b){var c="https://momdd.firebaseio.com/events";b(c,a,"events",[])}]),angular.module("pdxpicApp").controller("AuthCtrl",["$scope","authService","$location",function(a,b,c){a.$watch(function(){return b.user},function(b){a.user=b},!0),a.$watch(function(){return c.path()},function(b){a.loginView="/login"===b},!0),a.logout=function(){b.auth.logout()}}]),angular.module("pdxpicApp").controller("LoginCtrl",["$scope","authService","$location",function(a,b,c){a.$watch(function(){return b.user},function(b){a.user=b,b&&c.path("/")},!0),a.logout=function(){b.fireAuth.logout()},a.submit=function(){b.auth.login("password",{email:this.email,password:this.password})}}]),angular.module("pdxpicApp").controller("CreateCtrl",["$scope","$location","angularFire","authService",function(a,b,c,d){a.$watch(function(){return d.user},function(a){a||b.path("/login")},!0);var e="https://momdd.firebaseio.com/events";c(e,a,"events",[]),a.createEvent=function(){a.events.push({title:this.title,description:this.description}),b.path("/")}}]),angular.module("pdxpicApp").factory("authService",["$rootScope",function(a){var b={user:null},c=new Firebase("https://momdd.firebaseio.com/"),d=new FirebaseSimpleLogin(c,function(c,d){d?(b.user=d,a.$apply()):b.user=c?null:null});return b.auth=d,b}]);